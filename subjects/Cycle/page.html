<h3> Un bien étrange labyrinthe</h3>
<hr>

<p>Alors qu'il se promène, Tobi découvre un étrange paysage : une plaine remplie de portes numérotées.</br>
À l'entrée de la plaine se dresse une grande porte avec le numéro 1 et un panneau indique :
<pre>Si vous pouvez lire ça, vous êtes déjà piégé dans le labyrinthe cyclique !
Dans cet étrange labyrinthe chaque porte x vous emmène à la porte &fnof;(x) et, pour chaque porte y, il existe n tel que &fnof;&#8319;(1) = y.
</pre>
Alors que Tobi se retourne pour quitter ces lieux sinistres, il s’aperçoit que la route par laquelle il était venu a disparu ! Sentant la peur l'envahir, il entend la voix d'un petit oiseau passant par là : "Voyageur, pour sortir c'est très simple ! Il suffit de trouver le numéro de la porte apparaissant le plus tard possible sur votre chemin, mais que, si vous marchiez indéfiniment, vous emprunteriez une infinité de fois. Une fois devant, il suffit de crier 'TéléPorte moi chez moi' et vous vous retrouverez... chez vous !"</p>
<p>Tobi remercie grandement le petit oiseau, qui en partant, lui dit, "Oh, et j'ai surpris le vilain sorcier qui a créé ce labyrinthe alors qu’il le construisait, voici la formule de sa fonction..."</p>

<h4>Entrée:</h4>
<p>
    La fonction &fnof; est définie par &fnof;: x &rarr; (A &#8729; x + B + (x &gt;&gt; C) + (x &lt;&lt; D)) mod (2^M) </br>
    (où X mod Y désigne le reste de la division euclidienne de X par Y, X &lt;&lt; Y désigne un décalage de Y bits vers la gauche et X &gt;&gt; Y désigne un décalage de Y bits vers la droite).</br>

    <i>Remarque</i>: le modulo dans la fonction assure que la suite définie par celle-ci est bien périodique.</br>

    L'entrée est composée d'une unique ligne contenant les nombres A, B, C, D et M séparés par un espace.</br>
    1 &le; M &le; 22</br>
    0 &le; A, B &lt; 2^M</br>
    0 &le; C, D &le; M</br>
</p>

<h4>Sortie:</h4>
<p>
    La sortie est composée d'une unique ligne contenant le numéro de la porte de sortie.</br>
    On assure que la période de la fonction contient moins de 5*10^4 éléments.
</p>

<h4>Exemple</h4>
<p><strong>Entrée</strong></p>
<pre>
1 1 1 1 3
</pre>

<p><strong>Sortie</strong></p>
<pre>
7
</pre>

<p><strong>Explication</strong></p>
<pre>
La suite est 1 &rarr; 4 &rarr; 7 &rarr; 1 &rarr; ...
</pre>

<p><strong>Entrée</strong></p>
<pre>
1 2 3 2 4
</pre>

<p><strong>Sortie</strong></p>
<pre>
10
</pre>

<p><strong>Explication</strong></p>
<pre>
La suite est 1 &rarr; 7 &rarr; 5 &rarr; 11 &rarr; 10 &rarr; 5 &rarr; ...
</pre>
